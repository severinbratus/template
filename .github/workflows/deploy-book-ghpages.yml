name: deploy-book

# Based on:
# https://jupyterbook.org/en/stable/publish/gh-pages.html

on:
  workflow_call:

# Inherit configuration variables in the environment, or assign default values.
# Configuration variables may be set as explained here:
# https://docs.github.com/en/actions/learn-github-actions/variables#creating-configuration-variables-for-a-repository
env:
  # `publish` as primary by default
  PRIMARY_BRANCH: ${{ vars.PRIMARY_BRANCH != '' && vars.PRIMARY_BRANCH || 'publish' }}
  # Space-separated list of alias-rules, e.g. 'draft:main alias:really-long-branch-name'
  # By default, `draft` links to `main`.
  # If no aliases are wanted, BRANCH_ALIASES may be set to ' ' (space).
  BRANCH_ALIASES: ${{ vars.BRANCH_ALIASES != '' && vars.BRANCH_ALIASES || 'draft:main book:publish' }}
  # Space-separated list of branch names, e.g. 'main second third'.
  # By default, deploy all branches. This is indicated by '*'.
  BRANCHES_TO_DEPLOY: ${{ vars.BRANCHES_TO_DEPLOY != '' && vars.BRANCHES_TO_DEPLOY || '*' }}

jobs:
  get-branches:
    run: echo hello world

permissions:
  contents: read
  pages: write
  id-token: write
